<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS: Flexbox Interactiva</title>
    <style>
        /* --- ESTILOS BASE --- */
        :root { --primary:#2563eb; --bg:#f8fafc; --card:#fff; --text:#0f172a; --muted:#475569; --border:#e2e8f0; --code-bg: #1e293b; }
        
        body { font-family:'Segoe UI', Tahoma, sans-serif; background:var(--bg); color:var(--text); margin:0; padding:22px; line-height:1.6; }
        
        .card { background:var(--card); border:1px solid var(--border); border-radius:14px; padding:30px; max-width:900px; margin:0 auto; box-shadow:0 8px 18px rgba(15,23,42,0.08); }
        
        h1 { color:var(--primary); margin-top:0; border-bottom: 2px solid var(--border); padding-bottom: 15px; }
        h2 { font-size: 1.2rem; margin-top: 30px; color: #334155; }
        
        .breadcrumb a { text-decoration:none; color:#94a3b8; font-size: 0.9rem; font-weight:600; }
        .breadcrumb a:hover { color: var(--primary); }

        /* --- FLEX PLAYGROUND --- */
        .playground-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
            margin-top: 20px;
        }
        @media (max-width: 768px) { .playground-container { grid-template-columns: 1fr; } }

        /* EL CONTENEDOR FLEX (CAJA GRIS) */
        #flex-board {
            background-color: #e2e8f0;
            border: 2px dashed #94a3b8;
            border-radius: 8px;
            height: 350px; /* Altura fija para ver align-items */
            padding: 10px;
            
            /* ESTO ES LO QUE CAMBIAREMOS CON JS */
            display: flex; 
            flex-direction: row;
            justify-content: flex-start;
            align-items: stretch;
            gap: 10px;
            
            transition: all 0.3s ease;
        }

        /* LOS HIJOS (CAJAS DE COLORES) */
        .box {
            width: 60px;
            height: 60px;
            background: var(--primary);
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            font-size: 1.2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .box:nth-child(2) { background: #ec4899; } /* Rosa */
        .box:nth-child(3) { background: #eab308; } /* Amarillo */

        /* CONTROLES */
        .controls { background: #f1f5f9; padding: 20px; border-radius: 8px; }
        
        .control-group { margin-bottom: 20px; }
        .label-ctrl { font-weight: bold; font-size: 0.85rem; display: block; margin-bottom: 8px; color: #475569; }
        
        /* Botones de control */
        .btn-opt {
            display: block; width: 100%; text-align: left;
            padding: 8px 12px; margin-bottom: 5px;
            background: white; border: 1px solid #cbd5e1;
            border-radius: 5px; cursor: pointer; font-size: 0.85rem;
            transition: all 0.2s;
        }
        .btn-opt:hover { border-color: var(--primary); color: var(--primary); background: #eff6ff; }
        .btn-opt.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* CÓDIGO GENERADO */
        .code-snippet {
            background: var(--code-bg); color: #bef264;
            padding: 15px; border-radius: 6px;
            font-family: monospace; font-size: 0.9rem;
            margin-top: 10px;
        }

        /* --- EJEMPLO REAL (NAVBAR) --- */
        .navbar-demo {
            border: 1px solid #cbd5e1; border-radius: 8px; overflow: hidden; margin-top: 20px;
        }
        .nav-header {
            background: #1e293b; padding: 15px; color: white;
            display: flex; /* LA MAGIA */
            justify-content: space-between; /* LA CLAVE */
            align-items: center;
        }
        .nav-logo { font-weight: bold; font-size: 1.1rem; }
        .nav-menu { display: flex; gap: 15px; }
        .nav-link { font-size: 0.9rem; opacity: 0.8; cursor: pointer; }
        
        .nav-links { display:flex; justify-content:space-between; align-items:center; margin-top:40px; padding-top: 20px; border-top: 1px solid var(--border); }
        .nav-links a { text-decoration:none; color:#0ea5e9; font-weight:700; }
    </style>
</head>
<body>
    <div class="card">
        <div class="breadcrumb"><a href="../index.html">← Volver al programa</a></div>
        
        <h1>Flexbox: El Arte de Alinear</h1>
        <p>Flexbox sirve para organizar elementos en <strong>una dimensión</strong> (fila o columna). Es como decirle a los elementos: "Repártanse el espacio disponible".</p>

        <div class="section">
            <h2>1. Simulador Interactivo</h2>
            <p>Usa los botones de la derecha para controlar las cajas. Fíjate cómo cambia el código CSS.</p>

            <div class="playground-container">
                <div>
                    <div id="flex-board">
                        <div class="box">1</div>
                        <div class="box">2</div>
                        <div class="box">3</div>
                    </div>
                    
                    <div class="code-snippet" id="output-code">
.padre {
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
}
                    </div>
                </div>

                <div class="controls">
                    
                    <div class="control-group">
                        <span class="label-ctrl">1. Dirección (Eje Principal)</span>
                        <button class="btn-opt active" onclick="setFlex('direction', 'row', this)">row (Fila)</button>
                        <button class="btn-opt" onclick="setFlex('direction', 'column', this)">column (Columna)</button>
                    </div>

                    <div class="control-group">
                        <span class="label-ctrl">2. Justify Content (Alineación Horizontal)</span>
                        <button class="btn-opt active" onclick="setFlex('justify', 'flex-start', this)">flex-start (Inicio)</button>
                        <button class="btn-opt" onclick="setFlex('justify', 'center', this)">center (Centro)</button>
                        <button class="btn-opt" onclick="setFlex('justify', 'space-between', this)">space-between (Separados)</button>
                    </div>

                    <div class="control-group">
                        <span class="label-ctrl">3. Align Items (Alineación Vertical)</span>
                        <button class="btn-opt active" onclick="setFlex('align', 'stretch', this)">stretch (Estirar)</button>
                        <button class="btn-opt" onclick="setFlex('align', 'center', this)">center (Centro)</button>
                        <button class="btn-opt" onclick="setFlex('align', 'flex-end', this)">flex-end (Final)</button>
                    </div>

                </div>
            </div>
        </div>

        <div class="section">
            <h2>2. El Clásico: La Barra de Navegación</h2>
            <p>El uso más común de Flexbox es crear un menú donde el logo está a la izquierda y los enlaces a la derecha del todo.</p>
            <p>El secreto es: <code>justify-content: space-between;</code></p>

            <div class="navbar-demo">
                <nav class="nav-header">
                    <div class="nav-logo">MiLogo</div>
                    <div class="nav-menu">
                        <span class="nav-link">Inicio</span>
                        <span class="nav-link">Servicios</span>
                        <span class="nav-link">Contacto</span>
                    </div>
                </nav>
                <div style="padding:20px; text-align:center; color:#64748b; font-size:0.9rem;">
                    ☝️ Este header se ajusta solo gracias a Flexbox.
                </div>
            </div>
        </div>

        <div class="nav-links">
            <a href="css-modelo-caja.html">← Anterior: Modelo de Caja</a>
            <a href="css-responsivo.html">Siguiente: Diseño Responsivo →</a>
        </div>
    </div>

    <script>
        // Variables de estado
        let currentDir = 'row';
        let currentJustify = 'flex-start';
        let currentAlign = 'stretch';

        function setFlex(type, value, btnElement) {
            const board = document.getElementById('flex-board');
            
            // 1. Actualizar estado
            if (type === 'direction') currentDir = value;
            if (type === 'justify') currentJustify = value;
            if (type === 'align') currentAlign = value;

            // 2. Aplicar estilos
            board.style.flexDirection = currentDir;
            board.style.justifyContent = currentJustify;
            board.style.alignItems = currentAlign;

            // 3. Gestionar botones activos (Visual)
            // Quitar clase active a los hermanos
            let siblings = btnElement.parentElement.querySelectorAll('.btn-opt');
            siblings.forEach(el => el.classList.remove('active'));
            // Poner clase active al clickeado
            btnElement.classList.add('active');

            // 4. Actualizar el código mostrado
            updateCodeText();
        }

        function updateCodeText() {
            const codeBlock = document.getElementById('output-code');
            codeBlock.innerText = 
`.padre {
  display: flex;
  flex-direction: ${currentDir};
  justify-content: ${currentJustify};
  align-items: ${currentAlign};
}`;
        }
    </script>
</body>
</html>
